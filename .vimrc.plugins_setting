"------------------------------------------
"zen-coding.vim
"------------------------------------------
let g:user_zen_settings = {
\       'lang' : 'ja',
\}
"let g:user_zen_leader_key = '<c><Space>'

"------------------------------------------
"project.vim
"------------------------------------------
"プロジェクトのトグル開閉
nmap <silent> <Leader>P <Plug>ToggleProject
"デフォルトのプロジェクトを開く
nmap <silent> <Leader>p :Project<CR>

"------------------------------------------
"nginx.vim
"------------------------------------------
au BufRead,BufNewFile /etc/nginx/* setlocal ft=nginx

"------------------------------------------
"indent-guides
"------------------------------------------
" vim立ち上げたときに、自動的にvim-indent-guidesをオンにする
let g:indent_guides_enable_on_vim_startup=1
" ガイドをスタートするインデントの量
let g:indent_guides_start_level=1
" 自動カラーを無効にする
let g:indent_guides_auto_colors=0
" 奇数インデントのカラー
autocmd VimEnter,Colorscheme * :hi IndentGuidesOdd  guibg=#262626 ctermbg=lightgray
" 偶数インデントのカラー
autocmd VimEnter,Colorscheme * :hi IndentGuidesEven guibg=#3c3c3c ctermbg=darkgray
" ハイライト色の変化の幅
let g:indent_guides_color_change_percent = 30
" ガイドの幅
let g:indent_guides_guide_size = 2

"------------------------------------------
"vim-powerline
"------------------------------------------
let g:Powerline_symbols='fancy'

"------------------------------------------
"vim-ref
"------------------------------------------
let g:ref_source_webdict_sites = {
\   'je': {
\     'url': 'http://dictionary.infoseek.ne.jp/jeword/%s',
\   },
\   'ej': {
\     'url': 'http://dictionary.infoseek.ne.jp/ejword/%s',
\   },
\   'wiki': {
\     'url': 'http://ja.wikipedia.org/wiki/%s',
\   },
\ }


"デフォルトサイト
let g:ref_source_webdict_sites.default = 'ej'

"出力に対するフィルタ。最初の数行を削除
function! g:ref_source_webdict_sites.je.filter(output)
  return join(split(a:output, "\n")[15 :], "\n")
endfunction
function! g:ref_source_webdict_sites.ej.filter(output)
  return join(split(a:output, "\n")[15 :], "\n")
endfunction
function! g:ref_source_webdict_sites.wiki.filter(output)
  return join(split(a:output, "\n")[17 :], "\n")
endfunction

nmap <Leader>rj :<C-u>Ref webdict je<Space>
nmap <Leader>re :<C-u>Ref webdict ej<Space>

"------------------------------------------
" taglist
"------------------------------------------
let Tlist_Ctags_Cmd='/usr/local/bin/ctags'
let g:SrcExpl_updateTagsCmd = "/usr/local/bin/ctags --sort=foldcase -R ."


"------------------------------------------
" SrcExpl
"------------------------------------------
let g:SrcExpl_RefreshTime   = 1 "自動でプレビューを表示する。TODO:うざくなってきたら手動にする。またはソースを追う時だけ自動に変更する。
let g:SrcExpl_WinHeight     = 9 "プレビューウインドウの高さ
let g:SrcExpl_UpdateTags    = 1 "tagsは自動で作成する
"マッピング
let g:SrcExpl_RefreshMapKey = "<Space>"
let g:SrcExpl_GoBackMapKey  = "<C-b>"

"------------------------------------------
" Trinity
"------------------------------------------
nmap <F8> :TrinityToggleAll<CR>

"------------------------------------------
" NERD_Tree
"------------------------------------------
let NERDTreeShowHidden=1
